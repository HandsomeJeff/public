<div class="modal animated fadeIn" id="delete">
  <div class="modal-dialog">
    <div class="modal-content">
    <form data-ng-submit="remove(temp)">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">{{"confirm" | translate}}</h4>
      </div>
      <div class="modal-body">
        {{'sure_to_delete' | translate}} 
        <b>{{temp.model.fullPath()}}</b> 
        {{'sure_to_delete_end' | translate}}
        <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
        <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess" autofocus="autofocus">{{"remove" | translate}}</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="rename">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="rename(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'change_name_move' | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{'enter_new_name_for' | translate}} <b>{{temp.model.name}}</b></label>
              <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus">

              <div data-ng-include data-src="'path-selector'" class="clearfix"></div>
              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">{{'rename' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="copy">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="copy(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'copy_file' | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{'enter_new_name_for' | translate}} <b>{{temp.model.name}}</b></label>
              <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus">

              <div data-ng-include data-src="'path-selector'" class="clearfix"></div>
              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">Copy</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="compress">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="compress(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'compress' | translate}}</h4>
            </div>
            <div class="modal-body">
              <div ng-show="temp.success">
                  <div class="label label-success error-msg">{{'compression_started' | translate}}</div>
              </div>
              <div ng-hide="temp.success">
                  <div ng-hide="config.allowedActions.compressChooseName">
                    {{'sure_to_start_compression_with' | translate}} <b>{{temp.model.name}}</b> ?
                  </div>
                  <div ng-show="config.allowedActions.compressChooseName">
                    <label class="radio">{{'enter_folder_name_for_compression' | translate}} <b>{{fileNavigator.currentPath.join('/')}}/{{temp.model.name}}</b></label>
                    <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus">
                  </div>
              </div>

              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="temp.success">
                  <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"close" | translate}}</button>
              </div>
              <div ng-hide="temp.success">
                  <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">{{'compress' | translate}}</button>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="extract" ng-init="temp.emptyName()">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="extract(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'extract_item' | translate}}</h4>
            </div>
            <div class="modal-body">
              <div ng-show="temp.success">
                  <div class="label label-success error-msg">{{'extraction_started' | translate}}</div>
              </div>
              <div ng-hide="temp.success">
                  <label class="radio">{{'enter_folder_name_for_extraction' | translate}} <b>{{temp.model.name}}</b></label>
                  <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus">
                  <div data-ng-include data-src="'path-selector'" class="clearfix"></div>
              </div>
              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="temp.success">
                  <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"close" | translate}}</button>
              </div>
              <div ng-hide="temp.success">
                  <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">{{'extract' | translate}}</button>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="edit" data-ng-class="{'modal-fullscreen': fullscreen}">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <form data-ng-submit="edit(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <button type="button" class="close mr5" data-ng-click="fullscreen=!fullscreen">
                  <span>&loz;</span>
                  <span class="sr-only">{{'toggle_fullscreen' | translate}}</span>
              </button>
              <h4 class="modal-title">{{'edit_file' | translate}}</h4>
            </div>
            <div class="modal-body">
                <label class="radio">{{'file_content' | translate}}</label>
                <span class="label label-warning" data-ng-show="temp.inprocess">{{'loading' | translate}} ...</span>
                <textarea class="form-control code" data-ng-model="temp.tempModel.content" data-ng-show="!temp.inprocess" autofocus="autofocus"></textarea>
                <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">{{'edit' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="newfolder">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="createFolder(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'create_folder' | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{'folder_name' | translate}}</label>
              <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus">
              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="temp.inprocess">{{'create' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="uploadfile">
  <div class="modal-dialog">
    <div class="modal-content">
        <form data-ng-submit="uploadFiles()">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{"upload_file" | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{"files_will_uploaded_to" | translate}} <b>{{fileNavigator.currentPath.join('/')}}</b></label>
              <input type="file" class="form-control" data-ng-file="$parent.uploadFileList" autofocus="autofocus" multiple="multiple"/>
              <div data-ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div data-ng-show="!fileUploader.requesting">
                  <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-sm btn-primary" data-ng-disabled="!uploadFileList.length || fileUploader.requesting">{{'upload' | translate}}</button>
              </div>
              <div data-ng-show="fileUploader.requesting">
                  <span class="label label-warning">{{"uploading" | translate}} ...</span>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="selector" data-ng-controller="ModalFileManagerCtrl">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">{{"select_destination_folder" | translate}}</h4>
      </div>
      <div class="modal-body">
        <div>
            <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
            <div ng-include="config.tplPath + '/main-table-modal.html'"></div>
        </div>
      </div>
      <!-- 
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"close" | translate}}</button>
      </div>
       -->
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="localselector" data-ng-controller="ModalUploadFromFileManagerCtrl">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">{{"select_source_file_folder" | translate}}</h4>
      </div>
      <div class="modal-body">
        <div>
            <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
            <div id="local-table-modal" ng-include="config.tplPath + '/local-table-modal.html'"></div>
        </div>
      </div>
      <!--  
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"close" | translate}}</button>
      </div>
      --> 
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="downloadselector" data-ng-controller="ModalDownloadToFileManagerCtrl">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">{{"select_destination_folder" | translate}}</h4>
      </div>
      <div class="modal-body">
        <div class="path-selector-area">
            <table>
              <tr>
                <td>
                    <div class="path-selector-input">
                        <b>{{fileNavigator.currentPath.join('/')}}</b>
                    </div>
                </td>
                <td width="1%">
                    <div data-ng-show="fileNavigator.currentPath.join('/') != ''">
                        <button class="btn btn-success btn-sm" data-ng-click="downloadTo(fileNavigator.targetItem, fileNavigator.currentPath.join('/'))">
                            <i class="glyphicon glyphicon-hand-up"></i>
                            {{"download_to_folder" | translate}}
                        </button>
                    </div>
                </td>
              </tr>
            </table>
        </div>
        <div>
            <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
            <div id="local-table-modal" ng-include="config.tplPath + '/local-dest-table-modal.html'"></div>
        </div>
      </div>
      <!-- 
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-default" data-dismiss="modal" data-ng-disabled="temp.inprocess">{{"close" | translate}}</button>
      </div>
       -->  
    </div>
  </div>
</div>

<script type="text/ng-template" id="path-selector">
    <div class="panel panel-primary mt10 mb0">
      <div class="panel-heading">
        <h3 class="panel-title">{{'details' | translate}}</h3>
      </div>
      <div class="panel-body">
          <div class="detail-sources">
            <code class="mr5"><b>{{"source" | translate}}:</b> {{temp.model.fullPath()}}</code>
          </div>
          <div class="detail-sources">
            <code class="mr5"><b>{{"destination" | translate}}:</b>{{temp.tempModel.fullPath()}}</code>
            <span class="badge badge-warning pointer" data-ng-click="openNavigator(temp)">{{'change' | translate}}</span>
          </div>
      </div>
    </div>
</script>
<script type="text/ng-template" id="error-bar">
    <div class="label label-danger error-msg pull-left animated fadeIn" data-ng-show="temp.error">
      <i class="glyphicon glyphicon-remove-circle"></i> {{temp.error}}
    </div>
</script>
